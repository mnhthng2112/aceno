<header class="gen-header gen-header--overlap gen-header--white">
    <div class="gen-container--fluid">
        <div class="gen-header__inner">
            <div class="gen-header__left">
                <div class="gen-header__logo">
                    <a href="#">
                        <img src="{% if section.settings.header_logo == blank %} {{ 'logo.svg' | asset_url }} {% else %} {{ section.settings.header_logo | image_url }} {% endif %}" alt>
                    </a>
                </div>
            </div>
            <div class="gen-header__center">
                <div class="gen-header__menu">
                <!-- Main menu -->
                    <ul class="gen-menu">
                        {% for link in linklists.main-menu.links -%}
                            <li class="gen-menu__item gen-menu__item--parent
                            {% for block in section.blocks %}
                                {% if block.settings.heading == link.title %}
                                    {% if block.type == 'mega-menu-4' %}
                                     gen-menu__item--dropdown
                                    {% else %}
                                     gen-menu__item--mega
                                    {% endif %}
                                {% endif %}
                            {% endfor %}">
                                <a href="{{ link.url }}" class="gen-menu__link--main">
                                {{ link.title }}
                                <span class="gen-menu__arrow">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="11" height="6" viewBox="0 0 11 6" fill="none">
                                    <path d="M1.28003 1L5.28003 5L9.28003 1" stroke="#7C99A9" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                </span>
                                </a>
                                <div class="gen-mega-menu">
                                    {% render 'header-mega', section: section, menu_title: link.title %}
                                </div>
                            </li>
                        {%- endfor %}
                    </ul>
                </div>
            </div>
            <div class="gen-header__right">
            <div class="gen-header__icons">
                <a href="#"
                class="gen-header__icon gen-header__icon--search toggle-btn gen-tooltip gen-tooltip--bottom"
                data-target="offcanvasSearch">
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_12702_34634)">
                    <path
                        d="M7.5 14.5C11.0899 14.5 14 11.5899 14 8C14 4.41015 11.0899 1.5 7.5 1.5C3.91015 1.5 1 4.41015 1 8C1 11.5899 3.91015 14.5 7.5 14.5Z"
                        stroke="#1F1F27" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M17 17.5L15 15.5" stroke="#1F1F27"
                        stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                    </g>
                    <defs>
                    <clippath id="clip0_12702_34634">
                        <rect width="18" height="18" fill="white"
                        transform="translate(0 0.5)" />
                    </clippath>
                    </defs>
                </svg>
                <div class="gen-tooltip__content">Search</div>
                </a>
                <a href="#"
                class="gen-header__icon gen-header__icon--account gen-tooltip gen-tooltip--bottom">
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_12702_34638)">
                    <path
                        d="M9.12988 7.5C10.7867 7.5 12.1299 6.15685 12.1299 4.5C12.1299 2.84315 10.7867 1.5 9.12988 1.5C7.47303 1.5 6.12988 2.84315 6.12988 4.5C6.12988 6.15685 7.47303 7.5 9.12988 7.5Z"
                        stroke="#1F1F27" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path
                        d="M7 10.5H11C13.76 10.5 16 12.74 16 15.5V17.5H2V15.5C2 12.74 4.24 10.5 7 10.5Z"
                        stroke="#1F1F27" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                    </g>
                    <defs>
                    <clippath id="clip0_12702_34638">
                        <rect width="18" height="18" fill="white"
                        transform="translate(0 0.5)" />
                    </clippath>
                    </defs>
                </svg>
                <div class="gen-tooltip__content">Account</div>
                </a>
                <a href="#"
                class="gen-header__icon gen-header__icon--wishlist gen-tooltip gen-tooltip--bottom">
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                    d="M9 4.49964C7 0.499637 1 2.34964 1 6.49964C1 10.6496 4 14.4996 9 17.4996C14 14.4996 17 10.5696 17 6.49964C17 2.42964 11 0.499637 9 4.49964Z"
                    stroke="#1F1F27" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
                <span class="gen-counter">1</span>
                <div class="gen-tooltip__content">Wishlist</div>
                </a>
                <a href="#"
                class="gen-header__icon gen-header__icon--cart gen-tooltip gen-tooltip--bottom">
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 4.5L3 1.5H15L17 4.5H1Z" stroke="#1F1F27"
                    stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                    <path
                    d="M1 4.5V14.5C1 16.16 2.34 17.5 4 17.5H14C15.66 17.5 17 16.16 17 14.5V4.5"
                    stroke="#1F1F27" stroke-width="1.5"
                    stroke-linejoin="round" />
                    <path
                    d="M12 7.5C12 9.16 10.66 10.5 9 10.5C7.34 10.5 6 9.16 6 7.5"
                    stroke="#1F1F27" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
                <span class="gen-counter">4</span>
                <div class="gen-tooltip__content">Cart</div>
                </a>
            </div>
            </div>
        </div>
    </div>
</header>

<script>
    const menuItemMega = document.querySelectorAll('.gen-menu .gen-menu__item--mega');
    const header = document.querySelector('.gen-header');

    for (let i = 0; i < menuItemMega.length; i++) {
        menuItemMega[i].addEventListener('mouseover', () => {
            header.classList.add("gen-mega-active");
        });

        menuItemMega[i].addEventListener('mouseout', () => {
            header.classList.remove("gen-mega-active");
        });
    }
</script> 

{% schema %}
{
    "name": "Header",
    "settings": [
        {
            "type": "image_picker",
            "id": "header_logo",
            "label": "Logo"
        }
    ],
    "blocks": [
        {
            "type": "mega-menu-1",
            "name": "Mega menu image",
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "For item"
                },
                {   
                    "type": "image_picker",
                    "id": "image",
                    "label": "Logo"
                },
                {
                    "type": "header",
                    "content": "Image item"
                },
                {
                    "type": "range",
                    "id": "mega_column",
                    "min": 3,
                    "max": 5,
                    "step": 1,
                    "label": "Select number of columns",
                    "default": 5
                },
                {
                    "type": "range",
                    "id": "limit_image",
                    "max": 10,
                    "min": 1,
                    "label": "Number of images to show",
                    "default": 6
                },
                {
                    "type": "header",
                    "content": "Link button"
                },
                {
                    "type": "header",
                    "content": "Image item"
                },
                {
                    "type": "checkbox",
                    "id": "switch_button",
                    "label": "Show announcement",
                    "default": true
                },
                {
                    "type": "url",
                    "id": "view_all_url",
                    "label": "URL view all",
                    "default": "/collections/all"
                }
            ]
        },
        {
            "type": "mega-menu-2",
            "name": "Mega menu with product",
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "For item"
                }
            ]
        },
        {
            "type": "mega-menu-3",
            "name": "Mega menu column",
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "For item"
                }
            ]
        },
        {
            "type": "mega-menu-4",
            "name": "Mega menu dropdown",
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "For item"
                }
            ]
        },
        {
            "type": "custom_html",
            "name": "Custom HTML",
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "For item"
                },
                {
                    "type": "liquid",
                    "id": "html",
                    "label": "Custom HTML"
                }
            ]
        }
    ]
}
{% endschema %}